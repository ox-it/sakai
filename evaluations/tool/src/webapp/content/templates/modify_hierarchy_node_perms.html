<!--

    Copyright 2005 Sakai Foundation Licensed under the
    Educational Community License, Version 2.0 (the "License"); you may
    not use this file except in compliance with the License. You may
    obtain a copy of the License at

    http://www.osedu.org/licenses/ECL-2.0

    Unless required by applicable law or agreed to in writing,
    software distributed under the License is distributed on an "AS IS"
    BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
    or implied. See the License for the specific language governing
    permissions and limitations under the License.

-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns:rsf="http://ponder.org.uk/rsf" xmlns="http://www.w3.org/1999/xhtml">
<head>
	<title rsf:id="msg=modifynodeperms.page.title">Hierarchy Node Perms</title>
    <!-- standard on all pages -->
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <link href="/library/skin/tool_base.css" rsf:id="scr=portal-matter" type="text/css" rel="stylesheet" media="all"/>
    <link href="/library/skin/default/tool.css" rsf:id="scr=portal-matter" type="text/css" rel="stylesheet" media="all"/>
    <script src="/library/js/headscripts.js" rsf:id="scr=portal-matter" type="text/javascript" language="JavaScript"></script>
    <!-- end standard on all pages -->

	<script type="text/javascript" language="JavaScript" src="../js/jquery/jquery-1.4.4.min.js"></script>
	<script type="text/javascript" language="JavaScript" src="../js/rsf.js"></script>
	<script type="text/javascript" language="JavaScript" src="../js/evalUtils.js"></script>

	<link href="../css/evaluation_base.css" type="text/css" rel="stylesheet" media="all" />
    <link rsf:id="local_css_include" href="local_css_file.css" type="text/css" rel="stylesheet" media="all" />
</head>
  
  <body>
    <div class="portletBody">

      <h3 rsf:id="msg=modifynodeperm.page.title">Hierarchy Node Perms</h3>

      <div rsf:id="message-for:*" class="alertMessage">
         <ul>
            <li>Message for user here</li>
         </ul>
      </div>

      <div rsf:id="node-info" style="font-size:1.1em;">Node title (nodeId)</div>
      <p class="instructionText" rsf:id="msg=modifynodeperm.instructions">
      	Page Instructions: Enter usernames or emails in the box and then select the permissions to apply to the users
      </p>

      <form rsf:id="perms-form" method="post" class="inlineBlockForm">
        <div>
            <p>Click the <b>X</b> by a user name to remove their permissions from this node</p>
            <table class="evalsysTable">
              <thead>
                  <th rsf:id="msg=modifynodeperm.members.name.header" width="20%">User Name</th>
                  <th rsf:id="permission-header:" width="10%">Perm Name</th>
              </thead>
              <tr rsf:id="member-row:" style="color:#666">
             	  <td><span rsf:id="user-name">adz20 (aaron@caret.cam.ac.uk)</span> <input type="submit" rsf:id="remove-member" value="X"/></td>
                  <td align="center"><input rsf:id="permission:" type="checkbox" value="X"/></td>
              </tr>
            </table>
            <p>
                <input rsf:id="save-button" type="submit" value="Save permissions changes" />
            </p>
        </div>

        <div>
          <span rsf:id="msg=modifynodeperm.add.perms.header">Check the permissions you want to add for the new users.</span><br/>
          <label rsf:id="msg=modifynodeperm.add.perms.choose" for="add-member-permission">Choose the permission to apply to new members:</label>
          <select id="add-member-permission">
            <option value="view" selected="selected">View Results</option>
            <option value="write">Write Evals</option>
            <option value="read">Read Evals</option>
          </select>
          <br/>
          <span rsf:id="msg=modifynodeperm.usernames.header">Paste or type the usernames/emails of the people you want to add permissions for this node. One username/email per line.</span><br/>
          <textarea rsf:id="add-members-input" rows="4" cols="80"></textarea>
		  <p>
          	<input rsf:id="save-button" type="submit" value="Save new users and permissions"/>
          </p>
        </div>
	  </form>

      <a href="#" rsf:id="return-link">Return to Evaluation Wizard</a>
	  
	  <script rsf:id="init-js" type="text/javascript" language="JavaScript">
		  EvalSystem.initModifyHierarchyNodePerms(userEidInputId, addUserButtonId, noUserEidErrorMsg, noPermsErrorMsg);
	  </script>
    </div>
  </body>
</html>